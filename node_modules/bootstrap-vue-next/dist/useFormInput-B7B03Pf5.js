"use strict";const e=require("vue"),u=require("./useAriaInvalid-DUOcHX79.js"),t=require("./useId-C1J_udPo.js"),a=require("./index-CHhN7c8p.js"),r=require("./index-BthPTI3K.js");exports.normalizeInput=(e,u)=>{if(null===e)return;let t=e;if(u.number&&"string"==typeof t&&""!==t){const e=Number.parseFloat(t);t=Number.isNaN(e)?t:e}return t},exports.useFormInput=(n,l,i)=>{const o=e.ref(null),s=e.ref(0),v=t.useId((()=>n.id),"input"),d=r.useToNumber((()=>n.debounce??0)),c=r.useToNumber((()=>n.debounceMaxWait??NaN)),f=r.useDebounceFn((e=>{l.value=e}),(()=>!0===i.lazy?0:d.value),{maxWait:()=>!0===i.lazy?NaN:c.value}),m=(e,u=!1)=>{!0===i.lazy&&!1===u||f(e)},{focused:p}=a.useFocus(o,{initialValue:n.autofocus}),b=(e,u,t=!1)=>void 0===n.formatter||n.lazyFormatter&&!t?e:n.formatter(e,u);e.onMounted((()=>{var e;o.value&&(o.value.value=(null==(e=l.value)?void 0:e.toString())??"")})),e.onActivated((()=>{e.nextTick((()=>{n.autofocus&&(p.value=!0)}))}));const I=u.useAriaInvalid((()=>n.ariaInvalid),(()=>n.state));return{input:o,computedId:v,computedAriaInvalid:I,onInput:e=>{const{value:u}=e.target,t=b(u,e);if(e.defaultPrevented)return void e.preventDefault();m(t)},onChange:e=>{const{value:u}=e.target,t=b(u,e);if(e.defaultPrevented)return void e.preventDefault();const a=t;l.value!==a&&m(t,!0)},onBlur:e=>{if(!i.lazy&&!n.lazyFormatter&&!i.trim)return;const{value:u}=e.target,t=b(u,e,!0),a=i.trim?t.trim():t,r=a.length!==t.length;l.value!==a&&m(t,!0),i.trim&&r&&(s.value=s.value+1)},focus:()=>{n.disabled||(p.value=!0)},blur:()=>{n.disabled||(p.value=!1)},forceUpdateKey:s}};
//# sourceMappingURL=useFormInput-B7B03Pf5.js.map
