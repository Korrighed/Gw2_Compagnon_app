"use strict";const e=require("vue"),l=require("./classes-CXBJXuVd.js"),t=require("./useId-C1J_udPo.js"),a=require("./index-CHhN7c8p.js"),o=require("./useDefaults-DA3S59IE.js"),n=require("./keys-dS8HZUdm.js"),r=require("./index-BthPTI3K.js"),u=require("./BImg.vue_vue_type_script_setup_true_lang-CUI0BSKd.js"),i=require("./dom-BUc9qVuq.js"),s=["id"],c=["aria-label","aria-owns"],d=["aria-current","aria-label","aria-controls","aria-describedby","onClick"],v={class:"visually-hidden"},f={class:"visually-hidden"},m=e.defineComponent({__name:"BCarousel",props:e.mergeModels({background:{default:void 0},controls:{type:Boolean,default:!1},controlsNextText:{default:"Next"},controlsPrevText:{default:"Previous"},fade:{type:Boolean,default:!1},id:{default:void 0},imgHeight:{default:void 0},imgWidth:{default:void 0},indicators:{type:Boolean,default:!1},indicatorsButtonLabel:{default:"Slide"},interval:{default:5e3},labelIndicators:{default:"Select a slide to display"},keyboard:{type:Boolean,default:!0},noAnimation:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},ride:{type:[Boolean,String],default:!1},rideReverse:{type:Boolean,default:!1},touchThreshold:{default:50}},{modelValue:{default:0},modelModifiers:{}}),emits:e.mergeModels(["slide","slid","click:prev","click:next"],["update:modelValue"]),setup(u,{expose:i,emit:m}){const p=u,k=o.useDefaults(p,"BCarousel"),g=m,y=e.useSlots(),B=t.useId((()=>k.id),"carousel"),h=t.useId(void 0,"carousel-button-ownership"),b=e.useModel(u,"modelValue"),x=e.ref(null),S=r.useToNumber((()=>k.touchThreshold)),_=e.ref(null);e.onMounted((()=>{var e,l;_.value=(null==(l=null==(e=x.value)?void 0:e.find((e=>"none"!==e.$el.style.display)))?void 0:l._interval)??null}));const C=r.useToNumber((()=>_.value??k.interval)),E=e.ref(!1),T=e.ref(!1),V=e.ref(!0),w=e.ref(null),H=e.ref(null),N=e.ref(b.value),$=a.useElementHover(H),D=e.computed((()=>`carousel-item carousel-item-${V.value?"prev":"next"} carousel-item-${V.value?"end":"start"}`)),L=e.computed((()=>"carousel-item active carousel-item-"+(V.value?"start":"end"))),{pause:j,resume:I}=r.useIntervalFn((()=>{k.rideReverse?R():z()}),C,{immediate:"carousel"===k.ride}),q=e.computed((()=>!0===k.ride&&!0===T.value||"carousel"===k.ride)),M=e.computed((()=>{return e=y.default,l="BCarouselSlide",((null==e?void 0:e())??[]).reduce(((e,l)=>("symbol"==typeof l.type?e=e.concat(l.children):e.push(l),e)),[]).filter((e=>{var t;return(null==(t=e.type)?void 0:t.__name)===l}));var e,l})),A=e.computed((()=>({"carousel-fade":k.fade}))),W=e=>{var t;return new l.BvCarouselEvent(e,{componentId:B.value,cancelable:!1,target:H.value,direction:V.value?"right":"left",from:N.value,to:b.value,relatedTarget:(null==(t=w.value)?void 0:t.children[b.value])??null})},P=e=>{if(!0!==E.value)if(!0===k.ride&&(T.value=!0),!0===q.value&&I(),V.value=!(e<b.value),e>=M.value.length){if(k.noWrap)return;b.value=0}else if(e<0){if(k.noWrap)return;b.value=M.value.length-1}else N.value=b.value,b.value=e},R=()=>{P(b.value-1)},z=()=>{P(b.value+1)},F=e=>{!1!==k.keyboard&&e()},{lengthX:K}=a.useSwipe(H,{passive:!0,onSwipeStart(){!0!==k.noTouch&&j()},onSwipeEnd(){if(!0===k.noTouch)return;const e=()=>{!1!==q.value&&I()};if(K.value>=S.value)return z(),void e();K.value<=-S.value&&(R(),e())}}),U=()=>{g("slide",W("slide")),E.value=!0},X=()=>{g("slid",W("slid")),E.value=!1},G=e=>{0!==b.value&&e.classList.add("carousel-item")},J=e=>{var l,t;_.value=(null==(t=null==(l=x.value)?void 0:l.find((l=>l.$el===e)))?void 0:t._interval)??null};a.onKeyStroke("ArrowLeft",(()=>{F(R)}),{target:H}),a.onKeyStroke("ArrowRight",(()=>{F(z)}),{target:H}),e.watch((()=>k.ride),(()=>{T.value=!1})),e.watch($,(e=>{e?k.noHoverPause||j():q.value&&I()}));const O=e=>{g("click:prev",e),e.defaultPrevented||R()},Q=e=>{g("click:next",e),e.defaultPrevented||z()};return i({next:z,pause:j,prev:R,resume:I}),e.provide(n.carouselInjectionKey,{background:e.toRef((()=>k.background)),width:e.toRef((()=>k.imgWidth)),height:e.toRef((()=>k.imgHeight))}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(B),ref_key:"element",ref:H,class:e.normalizeClass(["carousel slide pointer-event",A.value])},[e.unref(k).indicators?(e.openBlock(),e.createElementBlock("div",{key:0,class:"carousel-indicators","aria-label":e.unref(k).labelIndicators,"aria-owns":e.unref(h)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value.length,((l,t)=>{var a;return e.openBlock(),e.createElementBlock("button",{key:t,type:"button","data-bs-target":"",class:e.normalizeClass(t===b.value?"active":""),"aria-current":t===b.value||void 0,"aria-label":`${e.unref(k).indicatorsButtonLabel} ${t}`,"aria-controls":e.unref(h),"aria-describedby":null==(a=x.value)?void 0:a[t]._id,onClick:e=>P(t)},null,10,d)})),128))],8,c)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"relatedTarget",ref:w,class:"carousel-inner"},[e.createVNode(e.TransitionGroup,{"enter-from-class":D.value,"enter-active-class":D.value,"enter-to-class":D.value,"leave-from-class":L.value,"leave-active-class":L.value,"leave-to-class":L.value,onBeforeLeave:U,onAfterLeave:X,onAfterEnter:G,onEnter:J},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,((l,t)=>e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{key:t,ref_for:!0,ref_key:"slideValues",ref:x,class:e.normalizeClass({active:t===b.value&&!1===E.value}),style:e.normalizeStyle(e.unref(k).noAnimation&&{transition:"none"})},null,8,["class","style"])),[[e.vShow,t===b.value]]))),128))])),_:1},8,["enter-from-class","enter-active-class","enter-to-class","leave-from-class","leave-active-class","leave-to-class"])],512),e.unref(k).controls?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{class:"carousel-control-prev",type:"button",onClick:O},[t[0]||(t[0]=e.createElementVNode("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",v,e.toDisplayString(e.unref(k).controlsPrevText),1)]),e.createElementVNode("button",{class:"carousel-control-next",type:"button",onClick:Q},[t[1]||(t[1]=e.createElementVNode("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",f,e.toDisplayString(e.unref(k).controlsNextText),1)])],64)):e.createCommentVNode("",!0)],10,s))}}),p=["id"],k=["innerHTML"],g={key:1},y=["innerHTML"],B={key:1},h=e.defineComponent({__name:"BCarouselSlide",props:{background:{default:void 0},caption:{default:void 0},captionHtml:{default:void 0},captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:{default:void 0},id:{default:void 0},imgAlt:{default:void 0},imgBlank:{type:Boolean,default:!1},imgBlankColor:{default:"transparent"},imgHeight:{default:void 0},imgSrc:{default:void 0},imgSrcset:{default:void 0},imgWidth:{default:void 0},interval:{default:void 0},text:{default:void 0},textHtml:{default:void 0},textTag:{default:"p"}},setup(l,{expose:a}){const r=l,s=o.useDefaults(r,"BCarouselSlide"),c=e.useSlots(),d=t.useId((()=>s.id),"carousel-slide"),v=e.inject(n.carouselInjectionKey,null),f=e.computed((()=>s.text||s.textHtml||!i.isEmptySlot(c.text))),m=e.computed((()=>s.caption||s.captionHtml||!i.isEmptySlot(c.caption))),h=e.computed((()=>f.value||m.value||!i.isEmptySlot(c.default))),b=e.computed((()=>({background:`${s.background||(null==v?void 0:v.background.value)||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),x=e.computed((()=>({"d-none":void 0!==s.contentVisibleUp,[`d-${s.contentVisibleUp}-block`]:void 0!==s.contentVisibleUp})));return a({_interval:e.toRef((()=>s.interval)),_id:d}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(d),class:"carousel-item",style:e.normalizeStyle(b.value)},[e.renderSlot(l.$slots,"img",{},(()=>{var l,t;return[e.createVNode(u._sfc_main,{class:"d-block w-100",alt:e.unref(s).imgAlt,srcset:e.unref(s).imgSrcset,src:e.unref(s).imgSrc,width:e.unref(s).imgWidth||(null==(l=e.unref(v))?void 0:l.width.value),height:e.unref(s).imgHeight||(null==(t=e.unref(v))?void 0:t.height.value),blank:e.unref(s).imgBlank,"blank-color":e.unref(s).imgBlankColor},null,8,["alt","srcset","src","width","height","blank","blank-color"])]})),h.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).contentTag),{key:0,class:e.normalizeClass(["carousel-caption",x.value])},{default:e.withCtx((()=>[m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).captionTag),{key:0},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"caption",{},(()=>[e.unref(s).captionHtml?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(s).captionHtml},null,8,k)):(e.openBlock(),e.createElementBlock("span",g,e.toDisplayString(e.unref(s).caption),1))]))])),_:3})):e.createCommentVNode("",!0),f.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).textTag),{key:1},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"text",{},(()=>[e.unref(s).textHtml?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(s).textHtml},null,8,y)):(e.openBlock(),e.createElementBlock("span",B,e.toDisplayString(e.unref(s).text),1))]))])),_:3})):e.createCommentVNode("",!0),e.renderSlot(l.$slots,"default")])),_:3},8,["class"])):e.createCommentVNode("",!0)],12,p))}});exports._sfc_main=m,exports._sfc_main$1=h;
//# sourceMappingURL=BCarouselSlide.vue_vue_type_script_setup_true_lang-DfPYIRXv.js.map
